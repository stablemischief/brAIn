# Production Environment Variables Template for brAIn v2.0
# Copy this file to .env.production and fill in actual values
# NEVER commit the actual .env.production file to git

# ==================== Core Application ====================
ENVIRONMENT=production
APP_NAME=brAIn
APP_VERSION=2.0.0
DEBUG=false
LOG_LEVEL=info

# ==================== Security ====================
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_SECRET_KEY_MIN_32_CHARS
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440

# CORS - Add your actual domain
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ==================== Database ====================
# PostgreSQL with pgvector
DB_HOST=postgres
DB_PORT=5432
DB_NAME=brain_prod
DB_USER=brain_user
DB_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Connection pool settings
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_POOL_TIMEOUT=30

# ==================== Redis Cache ====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==================== Supabase ====================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-key-here

# ==================== OpenAI ====================
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# ==================== Anthropic (Optional) ====================
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-opus-20240229

# ==================== LangFuse Monitoring ====================
LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
LANGFUSE_HOST=https://cloud.langfuse.com

# ==================== Cost Management ====================
DAILY_COST_LIMIT=50.00
MONTHLY_COST_LIMIT=1500.00
ALERT_THRESHOLD_PERCENTAGE=80

# ==================== SSL/Domain ====================
DOMAIN_NAME=your-domain.com
SSL_EMAIL=admin@your-domain.com

# ==================== Monitoring ====================
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
MONITORING_USER=prometheus
# Generate with: caddy hash-password
MONITORING_PASSWORD_HASH='$2a$14$HASH_OF_YOUR_PASSWORD'

# ==================== Backup ====================
BACKUP_RETENTION_DAYS=30
S3_BACKUP_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=us-west-2

# ==================== Rate Limiting ====================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==================== Feature Flags ====================
ENABLE_SIGNUP=true
ENABLE_AI_ASSISTANT=true
ENABLE_COST_TRACKING=true
ENABLE_KNOWLEDGE_GRAPH=true
MAINTENANCE_MODE=false

# ==================== External Services ====================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ==================== Performance ====================
WORKERS=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
GRACEFUL_TIMEOUT=30

# ==================== Development/Staging Override ====================
# Set to "staging" to use Let's Encrypt staging CA
# ACME_CA_TYPE=production