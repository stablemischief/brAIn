{"ast":null,"code":"import _objectSpread from \"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classPrivateFieldInitSpec from \"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nvar _queryCache, _mutationCache, _defaultOptions, _queryDefaults, _mutationDefaults, _mountCount, _unsubscribeFocus, _unsubscribeOnline;\n// src/queryClient.ts\nimport { functionalUpdate, hashKey, hashQueryKeyByOptions, noop, partialMatchKey, resolveStaleTime, skipToken } from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = (_queryCache = /*#__PURE__*/new WeakMap(), _mutationCache = /*#__PURE__*/new WeakMap(), _defaultOptions = /*#__PURE__*/new WeakMap(), _queryDefaults = /*#__PURE__*/new WeakMap(), _mutationDefaults = /*#__PURE__*/new WeakMap(), _mountCount = /*#__PURE__*/new WeakMap(), _unsubscribeFocus = /*#__PURE__*/new WeakMap(), _unsubscribeOnline = /*#__PURE__*/new WeakMap(), class QueryClient {\n  constructor() {\n    let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classPrivateFieldInitSpec(this, _queryCache, void 0);\n    _classPrivateFieldInitSpec(this, _mutationCache, void 0);\n    _classPrivateFieldInitSpec(this, _defaultOptions, void 0);\n    _classPrivateFieldInitSpec(this, _queryDefaults, void 0);\n    _classPrivateFieldInitSpec(this, _mutationDefaults, void 0);\n    _classPrivateFieldInitSpec(this, _mountCount, void 0);\n    _classPrivateFieldInitSpec(this, _unsubscribeFocus, void 0);\n    _classPrivateFieldInitSpec(this, _unsubscribeOnline, void 0);\n    _classPrivateFieldSet(_queryCache, this, config.queryCache || new QueryCache());\n    _classPrivateFieldSet(_mutationCache, this, config.mutationCache || new MutationCache());\n    _classPrivateFieldSet(_defaultOptions, this, config.defaultOptions || {});\n    _classPrivateFieldSet(_queryDefaults, this, /* @__PURE__ */new Map());\n    _classPrivateFieldSet(_mutationDefaults, this, /* @__PURE__ */new Map());\n    _classPrivateFieldSet(_mountCount, this, 0);\n  }\n  mount() {\n    var _this$mountCount, _this$mountCount2;\n    _classPrivateFieldSet(_mountCount, this, (_this$mountCount = _classPrivateFieldGet(_mountCount, this), _this$mountCount2 = _this$mountCount++, _this$mountCount)), _this$mountCount2;\n    if (_classPrivateFieldGet(_mountCount, this) !== 1) return;\n    _classPrivateFieldSet(_unsubscribeFocus, this, focusManager.subscribe(async focused => {\n      if (focused) {\n        await this.resumePausedMutations();\n        _classPrivateFieldGet(_queryCache, this).onFocus();\n      }\n    }));\n    _classPrivateFieldSet(_unsubscribeOnline, this, onlineManager.subscribe(async online => {\n      if (online) {\n        await this.resumePausedMutations();\n        _classPrivateFieldGet(_queryCache, this).onOnline();\n      }\n    }));\n  }\n  unmount() {\n    var _this$mountCount3, _this$mountCount4, _classPrivateFieldGet2, _classPrivateFieldGet3;\n    _classPrivateFieldSet(_mountCount, this, (_this$mountCount3 = _classPrivateFieldGet(_mountCount, this), _this$mountCount4 = _this$mountCount3--, _this$mountCount3)), _this$mountCount4;\n    if (_classPrivateFieldGet(_mountCount, this) !== 0) return;\n    (_classPrivateFieldGet2 = _classPrivateFieldGet(_unsubscribeFocus, this)) === null || _classPrivateFieldGet2 === void 0 || _classPrivateFieldGet2.call(this);\n    _classPrivateFieldSet(_unsubscribeFocus, this, void 0);\n    (_classPrivateFieldGet3 = _classPrivateFieldGet(_unsubscribeOnline, this)) === null || _classPrivateFieldGet3 === void 0 || _classPrivateFieldGet3.call(this);\n    _classPrivateFieldSet(_unsubscribeOnline, this, void 0);\n  }\n  isFetching(filters) {\n    return _classPrivateFieldGet(_queryCache, this).findAll(_objectSpread(_objectSpread({}, filters), {}, {\n      fetchStatus: \"fetching\"\n    })).length;\n  }\n  isMutating(filters) {\n    return _classPrivateFieldGet(_mutationCache, this).findAll(_objectSpread(_objectSpread({}, filters), {}, {\n      status: \"pending\"\n    })).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    var _classPrivateFieldGet4;\n    const options = this.defaultQueryOptions({\n      queryKey\n    });\n    return (_classPrivateFieldGet4 = _classPrivateFieldGet(_queryCache, this).get(options.queryHash)) === null || _classPrivateFieldGet4 === void 0 ? void 0 : _classPrivateFieldGet4.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = _classPrivateFieldGet(_queryCache, this).build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return _classPrivateFieldGet(_queryCache, this).findAll(filters).map(_ref => {\n      let {\n        queryKey,\n        state\n      } = _ref;\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({\n      queryKey\n    });\n    const query = _classPrivateFieldGet(_queryCache, this).get(defaultedOptions.queryHash);\n    const prevData = query === null || query === void 0 ? void 0 : query.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return _classPrivateFieldGet(_queryCache, this).build(this, defaultedOptions).setData(data, _objectSpread(_objectSpread({}, options), {}, {\n      manual: true\n    }));\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(() => _classPrivateFieldGet(_queryCache, this).findAll(filters).map(_ref2 => {\n      let {\n        queryKey\n      } = _ref2;\n      return [queryKey, this.setQueryData(queryKey, updater, options)];\n    }));\n  }\n  getQueryState(queryKey) {\n    var _classPrivateFieldGet5;\n    const options = this.defaultQueryOptions({\n      queryKey\n    });\n    return (_classPrivateFieldGet5 = _classPrivateFieldGet(_queryCache, this).get(options.queryHash)) === null || _classPrivateFieldGet5 === void 0 ? void 0 : _classPrivateFieldGet5.state;\n  }\n  removeQueries(filters) {\n    const queryCache = _classPrivateFieldGet(_queryCache, this);\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach(query => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = _classPrivateFieldGet(_queryCache, this);\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach(query => {\n        query.reset();\n      });\n      return this.refetchQueries(_objectSpread({\n        type: \"active\"\n      }, filters), options);\n    });\n  }\n  cancelQueries(filters) {\n    let cancelOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const defaultedCancelOptions = _objectSpread({\n      revert: true\n    }, cancelOptions);\n    const promises = notifyManager.batch(() => _classPrivateFieldGet(_queryCache, this).findAll(filters).map(query => query.cancel(defaultedCancelOptions)));\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return notifyManager.batch(() => {\n      var _ref3, _filters$refetchType;\n      _classPrivateFieldGet(_queryCache, this).findAll(filters).forEach(query => {\n        query.invalidate();\n      });\n      if ((filters === null || filters === void 0 ? void 0 : filters.refetchType) === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(_objectSpread(_objectSpread({}, filters), {}, {\n        type: (_ref3 = (_filters$refetchType = filters === null || filters === void 0 ? void 0 : filters.refetchType) !== null && _filters$refetchType !== void 0 ? _filters$refetchType : filters === null || filters === void 0 ? void 0 : filters.type) !== null && _ref3 !== void 0 ? _ref3 : \"active\"\n      }), options);\n    });\n  }\n  refetchQueries(filters) {\n    var _options$cancelRefetc;\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const fetchOptions = _objectSpread(_objectSpread({}, options), {}, {\n      cancelRefetch: (_options$cancelRefetc = options.cancelRefetch) !== null && _options$cancelRefetc !== void 0 ? _options$cancelRefetc : true\n    });\n    const promises = notifyManager.batch(() => _classPrivateFieldGet(_queryCache, this).findAll(filters).filter(query => !query.isDisabled() && !query.isStatic()).map(query => {\n      let promise = query.fetch(void 0, fetchOptions);\n      if (!fetchOptions.throwOnError) {\n        promise = promise.catch(noop);\n      }\n      return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n    }));\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = _classPrivateFieldGet(_queryCache, this).build(this, defaultedOptions);\n    return query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query)) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return _classPrivateFieldGet(_mutationCache, this).resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return _classPrivateFieldGet(_queryCache, this);\n  }\n  getMutationCache() {\n    return _classPrivateFieldGet(_mutationCache, this);\n  }\n  getDefaultOptions() {\n    return _classPrivateFieldGet(_defaultOptions, this);\n  }\n  setDefaultOptions(options) {\n    _classPrivateFieldSet(_defaultOptions, this, options);\n  }\n  setQueryDefaults(queryKey, options) {\n    _classPrivateFieldGet(_queryDefaults, this).set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [..._classPrivateFieldGet(_queryDefaults, this).values()];\n    const result = {};\n    defaults.forEach(queryDefault => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    _classPrivateFieldGet(_mutationDefaults, this).set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [..._classPrivateFieldGet(_mutationDefaults, this).values()];\n    const result = {};\n    defaults.forEach(queryDefault => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, _classPrivateFieldGet(_defaultOptions, this).queries), this.getQueryDefaults(options.queryKey)), options), {}, {\n      _defaulted: true\n    });\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options !== null && options !== void 0 && options._defaulted) {\n      return options;\n    }\n    return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, _classPrivateFieldGet(_defaultOptions, this).mutations), (options === null || options === void 0 ? void 0 : options.mutationKey) && this.getMutationDefaults(options.mutationKey)), options), {}, {\n      _defaulted: true\n    });\n  }\n  clear() {\n    _classPrivateFieldGet(_queryCache, this).clear();\n    _classPrivateFieldGet(_mutationCache, this).clear();\n  }\n});\nexport { QueryClient };","map":{"version":3,"names":["functionalUpdate","hashKey","hashQueryKeyByOptions","noop","partialMatchKey","resolveStaleTime","skipToken","QueryCache","MutationCache","focusManager","onlineManager","notifyManager","infiniteQueryBehavior","QueryClient","_queryCache","WeakMap","_mutationCache","_defaultOptions","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","constructor","config","arguments","length","undefined","_classPrivateFieldInitSpec","_classPrivateFieldSet","queryCache","mutationCache","defaultOptions","Map","mount","_this$mountCount","_this$mountCount2","_classPrivateFieldGet","subscribe","focused","resumePausedMutations","onFocus","online","onOnline","unmount","_this$mountCount3","_this$mountCount4","_classPrivateFieldGet2","_classPrivateFieldGet3","call","isFetching","filters","findAll","_objectSpread","fetchStatus","isMutating","status","getQueryData","queryKey","_classPrivateFieldGet4","options","defaultQueryOptions","get","queryHash","state","data","ensureQueryData","defaultedOptions","query","build","cachedData","fetchQuery","revalidateIfStale","isStaleByTime","staleTime","prefetchQuery","Promise","resolve","getQueriesData","map","_ref","setQueryData","updater","prevData","setData","manual","setQueriesData","batch","_ref2","getQueryState","_classPrivateFieldGet5","removeQueries","forEach","remove","resetQueries","reset","refetchQueries","type","cancelQueries","cancelOptions","defaultedCancelOptions","revert","promises","cancel","all","then","catch","invalidateQueries","_ref3","_filters$refetchType","invalidate","refetchType","_options$cancelRefetc","fetchOptions","cancelRefetch","filter","isDisabled","isStatic","promise","fetch","throwOnError","retry","fetchInfiniteQuery","behavior","pages","prefetchInfiniteQuery","ensureInfiniteQueryData","isOnline","getQueryCache","getMutationCache","getDefaultOptions","setDefaultOptions","setQueryDefaults","set","getQueryDefaults","defaults","values","result","queryDefault","Object","assign","setMutationDefaults","mutationKey","getMutationDefaults","_defaulted","queries","refetchOnReconnect","networkMode","suspense","persister","queryFn","enabled","defaultMutationOptions","mutations","clear"],"sources":["/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@tanstack/query-core/src/queryClient.ts"],"sourcesContent":["import {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken,\n} from './utils'\nimport { QueryCache } from './queryCache'\nimport { MutationCache } from './mutationCache'\nimport { focusManager } from './focusManager'\nimport { onlineManager } from './onlineManager'\nimport { notifyManager } from './notifyManager'\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior'\nimport type {\n  CancelOptions,\n  DefaultError,\n  DefaultOptions,\n  DefaultedQueryObserverOptions,\n  EnsureInfiniteQueryDataOptions,\n  EnsureQueryDataOptions,\n  FetchInfiniteQueryOptions,\n  FetchQueryOptions,\n  InferDataFromTag,\n  InferErrorFromTag,\n  InfiniteData,\n  InvalidateOptions,\n  InvalidateQueryFilters,\n  MutationKey,\n  MutationObserverOptions,\n  MutationOptions,\n  NoInfer,\n  OmitKeyof,\n  QueryClientConfig,\n  QueryKey,\n  QueryObserverOptions,\n  QueryOptions,\n  RefetchOptions,\n  RefetchQueryFilters,\n  ResetOptions,\n  SetDataOptions,\n} from './types'\nimport type { QueryState } from './query'\nimport type { MutationFilters, QueryFilters, Updater } from './utils'\n\n// TYPES\n\ninterface QueryDefaults {\n  queryKey: QueryKey\n  defaultOptions: OmitKeyof<QueryOptions<any, any, any>, 'queryKey'>\n}\n\ninterface MutationDefaults {\n  mutationKey: MutationKey\n  defaultOptions: MutationOptions<any, any, any, any>\n}\n\n// CLASS\n\nexport class QueryClient {\n  #queryCache: QueryCache\n  #mutationCache: MutationCache\n  #defaultOptions: DefaultOptions\n  #queryDefaults: Map<string, QueryDefaults>\n  #mutationDefaults: Map<string, MutationDefaults>\n  #mountCount: number\n  #unsubscribeFocus?: () => void\n  #unsubscribeOnline?: () => void\n\n  constructor(config: QueryClientConfig = {}) {\n    this.#queryCache = config.queryCache || new QueryCache()\n    this.#mutationCache = config.mutationCache || new MutationCache()\n    this.#defaultOptions = config.defaultOptions || {}\n    this.#queryDefaults = new Map()\n    this.#mutationDefaults = new Map()\n    this.#mountCount = 0\n  }\n\n  mount(): void {\n    this.#mountCount++\n    if (this.#mountCount !== 1) return\n\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations()\n        this.#queryCache.onFocus()\n      }\n    })\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations()\n        this.#queryCache.onOnline()\n      }\n    })\n  }\n\n  unmount(): void {\n    this.#mountCount--\n    if (this.#mountCount !== 0) return\n\n    this.#unsubscribeFocus?.()\n    this.#unsubscribeFocus = undefined\n\n    this.#unsubscribeOnline?.()\n    this.#unsubscribeOnline = undefined\n  }\n\n  isFetching<TQueryFilters extends QueryFilters<any> = QueryFilters>(\n    filters?: TQueryFilters,\n  ): number {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: 'fetching' })\n      .length\n  }\n\n  isMutating<\n    TMutationFilters extends MutationFilters<any, any> = MutationFilters,\n  >(filters?: TMutationFilters): number {\n    return this.#mutationCache.findAll({ ...filters, status: 'pending' }).length\n  }\n\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData<\n    TQueryFnData = unknown,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n  >(queryKey: TTaggedQueryKey): TInferredQueryFnData | undefined {\n    const options = this.defaultQueryOptions({ queryKey })\n\n    return this.#queryCache.get<TInferredQueryFnData>(options.queryHash)?.state\n      .data\n  }\n\n  ensureQueryData<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: EnsureQueryDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData> {\n    const defaultedOptions = this.defaultQueryOptions(options)\n    const query = this.#queryCache.build(this, defaultedOptions)\n    const cachedData = query.state.data\n\n    if (cachedData === undefined) {\n      return this.fetchQuery(options)\n    }\n\n    if (\n      options.revalidateIfStale &&\n      query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))\n    ) {\n      void this.prefetchQuery(defaultedOptions)\n    }\n\n    return Promise.resolve(cachedData)\n  }\n\n  getQueriesData<\n    TQueryFnData = unknown,\n    TQueryFilters extends QueryFilters<any> = QueryFilters,\n  >(filters: TQueryFilters): Array<[QueryKey, TQueryFnData | undefined]> {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data as TQueryFnData | undefined\n      return [queryKey, data]\n    })\n  }\n\n  setQueryData<\n    TQueryFnData = unknown,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n  >(\n    queryKey: TTaggedQueryKey,\n    updater: Updater<\n      NoInfer<TInferredQueryFnData> | undefined,\n      NoInfer<TInferredQueryFnData> | undefined\n    >,\n    options?: SetDataOptions,\n  ): NoInfer<TInferredQueryFnData> | undefined {\n    const defaultedOptions = this.defaultQueryOptions<\n      any,\n      any,\n      unknown,\n      any,\n      QueryKey\n    >({ queryKey })\n\n    const query = this.#queryCache.get<TInferredQueryFnData>(\n      defaultedOptions.queryHash,\n    )\n    const prevData = query?.state.data\n    const data = functionalUpdate(updater, prevData)\n\n    if (data === undefined) {\n      return undefined\n    }\n\n    return this.#queryCache\n      .build(this, defaultedOptions)\n      .setData(data, { ...options, manual: true })\n  }\n\n  setQueriesData<\n    TQueryFnData,\n    TQueryFilters extends QueryFilters<any> = QueryFilters,\n  >(\n    filters: TQueryFilters,\n    updater: Updater<\n      NoInfer<TQueryFnData> | undefined,\n      NoInfer<TQueryFnData> | undefined\n    >,\n    options?: SetDataOptions,\n  ): Array<[QueryKey, TQueryFnData | undefined]> {\n    return notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .map(({ queryKey }) => [\n          queryKey,\n          this.setQueryData<TQueryFnData>(queryKey, updater, options),\n        ]),\n    )\n  }\n\n  getQueryState<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n    TInferredError = InferErrorFromTag<TError, TTaggedQueryKey>,\n  >(\n    queryKey: TTaggedQueryKey,\n  ): QueryState<TInferredQueryFnData, TInferredError> | undefined {\n    const options = this.defaultQueryOptions({ queryKey })\n    return this.#queryCache.get<TInferredQueryFnData, TInferredError>(\n      options.queryHash,\n    )?.state\n  }\n\n  removeQueries<TTaggedQueryKey extends QueryKey = QueryKey>(\n    filters?: QueryFilters<TTaggedQueryKey>,\n  ): void {\n    const queryCache = this.#queryCache\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query)\n      })\n    })\n  }\n\n  resetQueries<TTaggedQueryKey extends QueryKey = QueryKey>(\n    filters?: QueryFilters<TTaggedQueryKey>,\n    options?: ResetOptions,\n  ): Promise<void> {\n    const queryCache = this.#queryCache\n\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset()\n      })\n      return this.refetchQueries(\n        {\n          type: 'active',\n          ...filters,\n        },\n        options,\n      )\n    })\n  }\n\n  cancelQueries<TTaggedQueryKey extends QueryKey = QueryKey>(\n    filters?: QueryFilters<TTaggedQueryKey>,\n    cancelOptions: CancelOptions = {},\n  ): Promise<void> {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions }\n\n    const promises = notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .map((query) => query.cancel(defaultedCancelOptions)),\n    )\n\n    return Promise.all(promises).then(noop).catch(noop)\n  }\n\n  invalidateQueries<TTaggedQueryKey extends QueryKey = QueryKey>(\n    filters?: InvalidateQueryFilters<TTaggedQueryKey>,\n    options: InvalidateOptions = {},\n  ): Promise<void> {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate()\n      })\n\n      if (filters?.refetchType === 'none') {\n        return Promise.resolve()\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? 'active',\n        },\n        options,\n      )\n    })\n  }\n\n  refetchQueries<TTaggedQueryKey extends QueryKey = QueryKey>(\n    filters?: RefetchQueryFilters<TTaggedQueryKey>,\n    options: RefetchOptions = {},\n  ): Promise<void> {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true,\n    }\n    const promises = notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .filter((query) => !query.isDisabled() && !query.isStatic())\n        .map((query) => {\n          let promise = query.fetch(undefined, fetchOptions)\n          if (!fetchOptions.throwOnError) {\n            promise = promise.catch(noop)\n          }\n          return query.state.fetchStatus === 'paused'\n            ? Promise.resolve()\n            : promise\n        }),\n    )\n\n    return Promise.all(promises).then(noop)\n  }\n\n  fetchQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = never,\n  >(\n    options: FetchQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<TData> {\n    const defaultedOptions = this.defaultQueryOptions(options)\n\n    // https://github.com/tannerlinsley/react-query/issues/652\n    if (defaultedOptions.retry === undefined) {\n      defaultedOptions.retry = false\n    }\n\n    const query = this.#queryCache.build(this, defaultedOptions)\n\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query),\n    )\n      ? query.fetch(defaultedOptions)\n      : Promise.resolve(query.state.data as TData)\n  }\n\n  prefetchQuery<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void> {\n    return this.fetchQuery(options).then(noop).catch(noop)\n  }\n\n  fetchInfiniteQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: FetchInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<InfiniteData<TData, TPageParam>> {\n    options.behavior = infiniteQueryBehavior<\n      TQueryFnData,\n      TError,\n      TData,\n      TPageParam\n    >(options.pages)\n    return this.fetchQuery(options as any)\n  }\n\n  prefetchInfiniteQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: FetchInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<void> {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop)\n  }\n\n  ensureInfiniteQueryData<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: EnsureInfiniteQueryDataOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<InfiniteData<TData, TPageParam>> {\n    options.behavior = infiniteQueryBehavior<\n      TQueryFnData,\n      TError,\n      TData,\n      TPageParam\n    >(options.pages)\n\n    return this.ensureQueryData(options as any)\n  }\n\n  resumePausedMutations(): Promise<unknown> {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations()\n    }\n    return Promise.resolve()\n  }\n\n  getQueryCache(): QueryCache {\n    return this.#queryCache\n  }\n\n  getMutationCache(): MutationCache {\n    return this.#mutationCache\n  }\n\n  getDefaultOptions(): DefaultOptions {\n    return this.#defaultOptions\n  }\n\n  setDefaultOptions(options: DefaultOptions): void {\n    this.#defaultOptions = options\n  }\n\n  setQueryDefaults<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryData = TQueryFnData,\n  >(\n    queryKey: QueryKey,\n    options: Partial<\n      OmitKeyof<\n        QueryObserverOptions<TQueryFnData, TError, TData, TQueryData>,\n        'queryKey'\n      >\n    >,\n  ): void {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options,\n    })\n  }\n\n  getQueryDefaults(\n    queryKey: QueryKey,\n  ): OmitKeyof<QueryObserverOptions<any, any, any, any, any>, 'queryKey'> {\n    const defaults = [...this.#queryDefaults.values()]\n\n    const result: OmitKeyof<\n      QueryObserverOptions<any, any, any, any, any>,\n      'queryKey'\n    > = {}\n\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions)\n      }\n    })\n    return result\n  }\n\n  setMutationDefaults<\n    TData = unknown,\n    TError = DefaultError,\n    TVariables = void,\n    TContext = unknown,\n  >(\n    mutationKey: MutationKey,\n    options: OmitKeyof<\n      MutationObserverOptions<TData, TError, TVariables, TContext>,\n      'mutationKey'\n    >,\n  ): void {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options,\n    })\n  }\n\n  getMutationDefaults(\n    mutationKey: MutationKey,\n  ): OmitKeyof<MutationObserverOptions<any, any, any, any>, 'mutationKey'> {\n    const defaults = [...this.#mutationDefaults.values()]\n\n    const result: OmitKeyof<\n      MutationObserverOptions<any, any, any, any>,\n      'mutationKey'\n    > = {}\n\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions)\n      }\n    })\n\n    return result\n  }\n\n  defaultQueryOptions<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = never,\n  >(\n    options:\n      | QueryObserverOptions<\n          TQueryFnData,\n          TError,\n          TData,\n          TQueryData,\n          TQueryKey,\n          TPageParam\n        >\n      | DefaultedQueryObserverOptions<\n          TQueryFnData,\n          TError,\n          TData,\n          TQueryData,\n          TQueryKey\n        >,\n  ): DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  > {\n    if (options._defaulted) {\n      return options as DefaultedQueryObserverOptions<\n        TQueryFnData,\n        TError,\n        TData,\n        TQueryData,\n        TQueryKey\n      >\n    }\n\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true,\n    }\n\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions,\n      )\n    }\n\n    // dependent default values\n    if (defaultedOptions.refetchOnReconnect === undefined) {\n      defaultedOptions.refetchOnReconnect =\n        defaultedOptions.networkMode !== 'always'\n    }\n    if (defaultedOptions.throwOnError === undefined) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense\n    }\n\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = 'offlineFirst'\n    }\n\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false\n    }\n\n    return defaultedOptions as DefaultedQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >\n  }\n\n  defaultMutationOptions<T extends MutationOptions<any, any, any, any>>(\n    options?: T,\n  ): T {\n    if (options?._defaulted) {\n      return options\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...(options?.mutationKey &&\n        this.getMutationDefaults(options.mutationKey)),\n      ...options,\n      _defaulted: true,\n    } as T\n  }\n\n  clear(): void {\n    this.#queryCache.clear()\n    this.#mutationCache.clear()\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}