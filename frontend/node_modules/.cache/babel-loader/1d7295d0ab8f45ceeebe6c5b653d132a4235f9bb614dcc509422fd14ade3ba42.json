{"ast":null,"code":"import _classPrivateFieldInitSpec from \"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nvar _gcTimeout;\n// src/removable.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = (_gcTimeout = /*#__PURE__*/new WeakMap(), class Removable {\n  constructor() {\n    _classPrivateFieldInitSpec(this, _gcTimeout, void 0);\n  }\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      _classPrivateFieldSet(_gcTimeout, this, timeoutManager.setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime));\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(this.gcTime || 0, newGcTime !== null && newGcTime !== void 0 ? newGcTime : isServer ? Infinity : 5 * 60 * 1e3);\n  }\n  clearGcTimeout() {\n    if (_classPrivateFieldGet(_gcTimeout, this)) {\n      timeoutManager.clearTimeout(_classPrivateFieldGet(_gcTimeout, this));\n      _classPrivateFieldSet(_gcTimeout, this, void 0);\n    }\n  }\n});\nexport { Removable };","map":{"version":3,"names":["timeoutManager","isServer","isValidTimeout","Removable","_gcTimeout","WeakMap","constructor","_classPrivateFieldInitSpec","destroy","clearGcTimeout","scheduleGc","gcTime","_classPrivateFieldSet","setTimeout","optionalRemove","updateGcTime","newGcTime","Math","max","Infinity","_classPrivateFieldGet","clearTimeout"],"sources":["/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@tanstack/query-core/src/removable.ts"],"sourcesContent":["import { timeoutManager } from './timeoutManager'\nimport { isServer, isValidTimeout } from './utils'\nimport type { ManagedTimerId } from './timeoutManager'\n\nexport abstract class Removable {\n  gcTime!: number\n  #gcTimeout?: ManagedTimerId\n\n  destroy(): void {\n    this.clearGcTimeout()\n  }\n\n  protected scheduleGc(): void {\n    this.clearGcTimeout()\n\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = timeoutManager.setTimeout(() => {\n        this.optionalRemove()\n      }, this.gcTime)\n    }\n  }\n\n  protected updateGcTime(newGcTime: number | undefined): void {\n    // Default to 5 minutes (Infinity for server-side) if no gcTime is set\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1000),\n    )\n  }\n\n  protected clearGcTimeout() {\n    if (this.#gcTimeout) {\n      timeoutManager.clearTimeout(this.#gcTimeout)\n      this.#gcTimeout = undefined\n    }\n  }\n\n  protected abstract optionalRemove(): void\n}\n"],"mappings":";;;;;AAAA,SAASA,cAAA,QAAsB;AAC/B,SAASC,QAAA,EAAUC,cAAA,QAAsB;AAGlC,IAAeC,SAAA,IAAAC,UAAA,oBAAAC,OAAA,IAAf,MAAeF,SAAA,CAAU;EAAAG,YAAA;IAE9BC,0BAAA,OAAAH,UAAA;EAAA;EAEAI,QAAA,EAAgB;IACd,KAAKC,cAAA,CAAe;EACtB;EAEUC,WAAA,EAAmB;IAC3B,KAAKD,cAAA,CAAe;IAEpB,IAAIP,cAAA,CAAe,KAAKS,MAAM,GAAG;MAC/BC,qBAAA,CAAKR,UAAA,EAAL,MAAkBJ,cAAA,CAAea,UAAA,CAAW,MAAM;QAChD,KAAKC,cAAA,CAAe;MACtB,GAAG,KAAKH,MAAM,CAFT;IAGP;EACF;EAEUI,aAAaC,SAAA,EAAqC;IAE1D,KAAKL,MAAA,GAASM,IAAA,CAAKC,GAAA,CACjB,KAAKP,MAAA,IAAU,GACfK,SAAA,aAAAA,SAAA,cAAAA,SAAA,GAAcf,QAAA,GAAWkB,QAAA,GAAW,IAAI,KAAK,GAC/C;EACF;EAEUV,eAAA,EAAiB;IACzB,IAAIW,qBAAA,CAAKhB,UAAA,EAAL,IAAK,GAAY;MACnBJ,cAAA,CAAeqB,YAAA,CAAaD,qBAAA,CAAKhB,UAAU,EAAf,IAAK,CAAU;MAC3CQ,qBAAA,CAAKR,UAAA,EAAL,MAAkB,MAAb;IACP;EACF;AAGF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}