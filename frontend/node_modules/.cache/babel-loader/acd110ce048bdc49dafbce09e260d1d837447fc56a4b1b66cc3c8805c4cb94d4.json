{"ast":null,"code":"import React,{useState,useCallback,useEffect}from'react';import{MagnifyingGlassIcon,XMarkIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const GraphSearch=_ref=>{let{onSearch,placeholder='Search nodes and relationships...',debounceMs=300}=_ref;const[query,setQuery]=useState('');const[isExpanded,setIsExpanded]=useState(false);// Debounced search\nuseEffect(()=>{const timer=setTimeout(()=>{onSearch(query);},debounceMs);return()=>clearTimeout(timer);},[query,onSearch,debounceMs]);const handleClear=useCallback(()=>{setQuery('');onSearch('');},[onSearch]);const handleToggle=useCallback(()=>{setIsExpanded(!isExpanded);if(!isExpanded){// Focus input when expanding\nsetTimeout(()=>{const input=document.getElementById('graph-search-input');input===null||input===void 0?void 0:input.focus();},100);}else{// Clear when collapsing\nhandleClear();}},[isExpanded,handleClear]);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-800 rounded-lg shadow-lg transition-all duration-300 \".concat(isExpanded?'w-64':'w-auto'),children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleToggle,className:\"p-3 hover:bg-gray-700 rounded-l-lg transition-colors\",title:isExpanded?'Close search':'Open search',children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"w-5 h-5 text-gray-300\"})}),isExpanded&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{id:\"graph-search-input\",type:\"text\",value:query,onChange:e=>setQuery(e.target.value),placeholder:placeholder,className:\"flex-1 px-3 py-2 bg-transparent text-white placeholder-gray-400 focus:outline-none\"}),query&&/*#__PURE__*/_jsx(\"button\",{onClick:handleClear,className:\"p-2 hover:bg-gray-700 rounded-r-lg transition-colors\",title:\"Clear search\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-4 h-4 text-gray-400\"})})]})]}),isExpanded&&query&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full mt-2 w-64 bg-gray-800 rounded-lg shadow-lg p-2 z-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mb-2\",children:\"Search filters:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-sm text-gray-300 hover:bg-gray-700 p-1 rounded cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-2\",defaultChecked:true}),\"Nodes\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-sm text-gray-300 hover:bg-gray-700 p-1 rounded cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-2\",defaultChecked:true}),\"Relationships\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-sm text-gray-300 hover:bg-gray-700 p-1 rounded cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-2\"}),\"Metadata\"]})]})]})]});};export default GraphSearch;","map":{"version":3,"names":["React","useState","useCallback","useEffect","MagnifyingGlassIcon","XMarkIcon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","GraphSearch","_ref","onSearch","placeholder","debounceMs","query","setQuery","isExpanded","setIsExpanded","timer","setTimeout","clearTimeout","handleClear","handleToggle","input","document","getElementById","focus","className","children","concat","onClick","title","id","type","value","onChange","e","target","defaultChecked"],"sources":["/Users/james/Documents/Product-RD/brAIn/frontend/src/components/KnowledgeGraph/GraphSearch.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { MagnifyingGlassIcon, XMarkIcon } from '@heroicons/react/24/outline';\n\ninterface GraphSearchProps {\n  onSearch: (query: string) => void;\n  placeholder?: string;\n  debounceMs?: number;\n}\n\nconst GraphSearch: React.FC<GraphSearchProps> = ({\n  onSearch,\n  placeholder = 'Search nodes and relationships...',\n  debounceMs = 300,\n}) => {\n  const [query, setQuery] = useState('');\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  // Debounced search\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onSearch(query);\n    }, debounceMs);\n\n    return () => clearTimeout(timer);\n  }, [query, onSearch, debounceMs]);\n\n  const handleClear = useCallback(() => {\n    setQuery('');\n    onSearch('');\n  }, [onSearch]);\n\n  const handleToggle = useCallback(() => {\n    setIsExpanded(!isExpanded);\n    if (!isExpanded) {\n      // Focus input when expanding\n      setTimeout(() => {\n        const input = document.getElementById('graph-search-input');\n        input?.focus();\n      }, 100);\n    } else {\n      // Clear when collapsing\n      handleClear();\n    }\n  }, [isExpanded, handleClear]);\n\n  return (\n    <div className=\"relative\">\n      <div\n        className={`flex items-center bg-gray-800 rounded-lg shadow-lg transition-all duration-300 ${\n          isExpanded ? 'w-64' : 'w-auto'\n        }`}\n      >\n        <button\n          onClick={handleToggle}\n          className=\"p-3 hover:bg-gray-700 rounded-l-lg transition-colors\"\n          title={isExpanded ? 'Close search' : 'Open search'}\n        >\n          <MagnifyingGlassIcon className=\"w-5 h-5 text-gray-300\" />\n        </button>\n\n        {isExpanded && (\n          <>\n            <input\n              id=\"graph-search-input\"\n              type=\"text\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              placeholder={placeholder}\n              className=\"flex-1 px-3 py-2 bg-transparent text-white placeholder-gray-400 focus:outline-none\"\n            />\n\n            {query && (\n              <button\n                onClick={handleClear}\n                className=\"p-2 hover:bg-gray-700 rounded-r-lg transition-colors\"\n                title=\"Clear search\"\n              >\n                <XMarkIcon className=\"w-4 h-4 text-gray-400\" />\n              </button>\n            )}\n          </>\n        )}\n      </div>\n\n      {isExpanded && query && (\n        <div className=\"absolute top-full mt-2 w-64 bg-gray-800 rounded-lg shadow-lg p-2 z-10\">\n          <div className=\"text-xs text-gray-400 mb-2\">Search filters:</div>\n          <div className=\"space-y-1\">\n            <label className=\"flex items-center text-sm text-gray-300 hover:bg-gray-700 p-1 rounded cursor-pointer\">\n              <input type=\"checkbox\" className=\"mr-2\" defaultChecked />\n              Nodes\n            </label>\n            <label className=\"flex items-center text-sm text-gray-300 hover:bg-gray-700 p-1 rounded cursor-pointer\">\n              <input type=\"checkbox\" className=\"mr-2\" defaultChecked />\n              Relationships\n            </label>\n            <label className=\"flex items-center text-sm text-gray-300 hover:bg-gray-700 p-1 rounded cursor-pointer\">\n              <input type=\"checkbox\" className=\"mr-2\" />\n              Metadata\n            </label>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GraphSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}