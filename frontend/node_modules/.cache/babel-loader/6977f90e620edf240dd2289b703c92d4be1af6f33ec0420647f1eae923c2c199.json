{"ast":null,"code":"import _objectSpread from\"/Users/james/Documents/Product-RD/brAIn/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useForm,Controller}from'react-hook-form';import{motion}from'framer-motion';import{CurrencyDollarIcon,ExclamationTriangleIcon,CheckCircleIcon,BellIcon,PencilSquareIcon,Cog6ToothIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const BudgetManager=_ref=>{let{budgetInfo,onUpdateBudget,className=''}=_ref;const[isEditing,setIsEditing]=useState(false);const[saving,setSaving]=useState(false);// Mock alerts data\nconst mockAlerts=[{id:'1',type:'warning',message:'Daily spend exceeded average by 25%',actionRequired:false,timestamp:'2025-01-12T10:30:00Z'},{id:'2',type:'info',message:'Monthly budget tracking on schedule',actionRequired:false,timestamp:'2025-01-12T09:15:00Z'}];const{control,handleSubmit,formState:{errors,isDirty},reset,watch}=useForm({defaultValues:{monthlyLimit:budgetInfo.monthly_limit,dailyLimit:budgetInfo.monthly_limit/30,// Estimate daily from monthly\nalertThreshold:80,// 80% threshold\nenableAlerts:true,enableHardStop:false,emergencyContact:''}});const watchedValues=watch();const onSubmit=async data=>{setSaving(true);try{await onUpdateBudget(data);setIsEditing(false);reset(data);}catch(error){console.error('Failed to update budget:',error);}finally{setSaving(false);}};const handleCancel=()=>{reset();setIsEditing(false);};const getBudgetStatusColor=()=>{if(budgetInfo.budget_utilization_percentage>=90)return'text-red-600 dark:text-red-400';if(budgetInfo.budget_utilization_percentage>=75)return'text-yellow-600 dark:text-yellow-400';return'text-green-600 dark:text-green-400';};const getBudgetBarColor=()=>{if(budgetInfo.budget_utilization_percentage>=90)return'bg-red-500';if(budgetInfo.budget_utilization_percentage>=75)return'bg-yellow-500';return'bg-green-500';};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 \".concat(className),children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Budget Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400 mt-1\",children:\"Current month spending and limits\"})]}),!isEditing&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEditing(true),className:\"flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(PencilSquareIcon,{className:\"h-4 w-4\"}),\"Edit Budget\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Monthly Budget Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold \".concat(getBudgetStatusColor()),children:[\"$\",budgetInfo.current_month_spend.toFixed(2),\" / $\",budgetInfo.monthly_limit.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-500 \".concat(getBudgetBarColor()),style:{width:\"\".concat(Math.min(budgetInfo.budget_utilization_percentage,100),\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"0%\"}),/*#__PURE__*/_jsxs(\"span\",{children:[budgetInfo.budget_utilization_percentage.toFixed(1),\"% used\"]}),/*#__PURE__*/_jsx(\"span\",{children:\"100%\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:[\"$\",budgetInfo.remaining_budget.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Remaining\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:[\"$\",budgetInfo.projected_month_end_spend.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Projected Total\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(budgetInfo.projected_month_end_spend>budgetInfo.monthly_limit?'text-red-600 dark:text-red-400':'text-green-600 dark:text-green-400'),children:[budgetInfo.projected_month_end_spend>budgetInfo.monthly_limit?'+':'',\"$\",(budgetInfo.projected_month_end_spend-budgetInfo.monthly_limit).toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:[budgetInfo.projected_month_end_spend>budgetInfo.monthly_limit?'Over':'Under',\" Budget\"]})]})]}),(budgetInfo.alerts.approaching_limit||budgetInfo.alerts.over_budget||budgetInfo.alerts.high_daily_spend)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-yellow-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:\"Active Alerts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[budgetInfo.alerts.approaching_limit&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg\",children:[/*#__PURE__*/_jsx(BellIcon,{className:\"h-4 w-4 text-yellow-600 dark:text-yellow-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-yellow-700 dark:text-yellow-300\",children:[\"Approaching monthly budget limit (\",budgetInfo.budget_utilization_percentage.toFixed(1),\"% used)\"]})]}),budgetInfo.alerts.over_budget&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-4 w-4 text-red-600 dark:text-red-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-red-700 dark:text-red-300\",children:\"Monthly budget exceeded\"})]}),budgetInfo.alerts.high_daily_spend&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg\",children:[/*#__PURE__*/_jsx(BellIcon,{className:\"h-4 w-4 text-orange-600 dark:text-orange-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-orange-700 dark:text-orange-300\",children:\"Daily spending above average\"})]})]})]})]}),isEditing&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-6\",children:[/*#__PURE__*/_jsx(Cog6ToothIcon,{className:\"h-5 w-5 text-gray-600 dark:text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Budget Configuration\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Monthly Budget Limit\"}),/*#__PURE__*/_jsx(Controller,{name:\"monthlyLimit\",control:control,rules:{required:'Monthly limit is required',min:{value:1,message:'Must be at least $1'},max:{value:10000,message:'Must be less than $10,000'}},render:_ref2=>{let{field}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},field),{},{type:\"number\",step:\"0.01\",min:\"1\",max:\"10000\",className:\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\",placeholder:\"100.00\"}))]});}}),errors.monthlyLimit&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600 dark:text-red-400\",children:errors.monthlyLimit.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Daily Budget Limit (Optional)\"}),/*#__PURE__*/_jsx(Controller,{name:\"dailyLimit\",control:control,rules:{min:{value:0.01,message:'Must be at least $0.01'},validate:value=>{if(value&&value*30>watchedValues.monthlyLimit){return'Daily limit would exceed monthly limit';}}},render:_ref3=>{let{field}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},field),{},{type:\"number\",step:\"0.01\",min:\"0.01\",className:\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\",placeholder:\"10.00\"}))]});}}),errors.dailyLimit&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600 dark:text-red-400\",children:errors.dailyLimit.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Alert Threshold (%)\"}),/*#__PURE__*/_jsx(Controller,{name:\"alertThreshold\",control:control,rules:{required:'Alert threshold is required',min:{value:50,message:'Must be at least 50%'},max:{value:95,message:'Must be less than 95%'}},render:_ref4=>{let{field}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},field),{},{type:\"number\",min:\"50\",max:\"95\",className:\"w-full pr-8 pl-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\",placeholder:\"80\"})),/*#__PURE__*/_jsx(\"span\",{className:\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\",children:\"%\"})]});}}),errors.alertThreshold&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600 dark:text-red-400\",children:errors.alertThreshold.message}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-gray-500 dark:text-gray-400\",children:[\"Get notified when \",watchedValues.alertThreshold,\"% of budget is used\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Emergency Contact (Optional)\"}),/*#__PURE__*/_jsx(Controller,{name:\"emergencyContact\",control:control,rules:{pattern:{value:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,message:'Please enter a valid email address'}},render:_ref5=>{let{field}=_ref5;return/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},field),{},{type:\"email\",className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\",placeholder:\"admin@company.com\"}));}}),errors.emergencyContact&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600 dark:text-red-400\",children:errors.emergencyContact.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Controller,{name:\"enableAlerts\",control:control,render:_ref6=>{let{field:{value,onChange}}=_ref6;return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:value,onChange:onChange,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Enable budget alerts\"})]});}}),/*#__PURE__*/_jsx(Controller,{name:\"enableHardStop\",control:control,render:_ref7=>{let{field:{value,onChange}}=_ref7;return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:value,onChange:onChange,className:\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 dark:border-gray-600 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Enable hard stop (block requests when budget exceeded)\"})]});}}),watchedValues.enableHardStop&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-7 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-4 w-4 text-red-600 dark:text-red-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-red-700 dark:text-red-300 font-medium\",children:\"Warning: Hard stop will completely block AI requests when budget is exceeded\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end gap-3 pt-6 border-t border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCancel,className:\"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:!isDirty||saving,className:\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:[saving?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"}):/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-4 w-4\"}),saving?'Saving...':'Save Budget Settings']})]})]})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.1},className:\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Recent Alerts\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300\",children:\"View All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:mockAlerts.map(alert=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3 p-3 rounded-lg \".concat(alert.type==='warning'?'bg-yellow-50 dark:bg-yellow-900/20':alert.type==='danger'?'bg-red-50 dark:bg-red-900/20':'bg-blue-50 dark:bg-blue-900/20'),children:[alert.type==='warning'?/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5\"}):alert.type==='danger'?/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5\"}):/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium \".concat(alert.type==='warning'?'text-yellow-700 dark:text-yellow-300':alert.type==='danger'?'text-red-700 dark:text-red-300':'text-blue-700 dark:text-blue-300'),children:alert.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:new Date(alert.timestamp).toLocaleString()})]}),alert.actionRequired&&/*#__PURE__*/_jsx(\"button\",{className:\"text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 rounded\",children:\"Action Required\"})]},alert.id))})]})]});};export default BudgetManager;","map":{"version":3,"names":["React","useState","useForm","Controller","motion","CurrencyDollarIcon","ExclamationTriangleIcon","CheckCircleIcon","BellIcon","PencilSquareIcon","Cog6ToothIcon","jsx","_jsx","jsxs","_jsxs","BudgetManager","_ref","budgetInfo","onUpdateBudget","className","isEditing","setIsEditing","saving","setSaving","mockAlerts","id","type","message","actionRequired","timestamp","control","handleSubmit","formState","errors","isDirty","reset","watch","defaultValues","monthlyLimit","monthly_limit","dailyLimit","alertThreshold","enableAlerts","enableHardStop","emergencyContact","watchedValues","onSubmit","data","error","console","handleCancel","getBudgetStatusColor","budget_utilization_percentage","getBudgetBarColor","concat","children","div","initial","opacity","y","animate","onClick","current_month_spend","toFixed","style","width","Math","min","remaining_budget","projected_month_end_spend","alerts","approaching_limit","over_budget","high_daily_spend","name","rules","required","value","max","render","_ref2","field","_objectSpread","step","placeholder","validate","_ref3","_ref4","pattern","_ref5","_ref6","onChange","checked","_ref7","disabled","transition","delay","map","alert","Date","toLocaleString"],"sources":["/Users/james/Documents/Product-RD/brAIn/frontend/src/components/Cost/BudgetManager.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { motion } from 'framer-motion';\nimport {\n  CurrencyDollarIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  BellIcon,\n  ShieldCheckIcon,\n  PencilSquareIcon,\n  TrashIcon,\n  Cog6ToothIcon,\n} from '@heroicons/react/24/outline';\nimport { BudgetInfo } from '../../types';\n\ninterface BudgetFormData {\n  monthlyLimit: number;\n  dailyLimit?: number;\n  alertThreshold: number;\n  enableAlerts: boolean;\n  enableHardStop: boolean;\n  emergencyContact?: string;\n}\n\ninterface BudgetManagerProps {\n  budgetInfo: BudgetInfo;\n  onUpdateBudget: (data: BudgetFormData) => Promise<void>;\n  className?: string;\n}\n\ninterface BudgetAlert {\n  id: string;\n  type: 'warning' | 'danger' | 'info';\n  message: string;\n  actionRequired: boolean;\n  timestamp: string;\n}\n\nexport const BudgetManager: React.FC<BudgetManagerProps> = ({\n  budgetInfo,\n  onUpdateBudget,\n  className = '',\n}) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  // Mock alerts data\n  const mockAlerts: BudgetAlert[] = [\n    {\n      id: '1',\n      type: 'warning',\n      message: 'Daily spend exceeded average by 25%',\n      actionRequired: false,\n      timestamp: '2025-01-12T10:30:00Z',\n    },\n    {\n      id: '2',\n      type: 'info',\n      message: 'Monthly budget tracking on schedule',\n      actionRequired: false,\n      timestamp: '2025-01-12T09:15:00Z',\n    },\n  ];\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors, isDirty },\n    reset,\n    watch,\n  } = useForm<BudgetFormData>({\n    defaultValues: {\n      monthlyLimit: budgetInfo.monthly_limit,\n      dailyLimit: budgetInfo.monthly_limit / 30, // Estimate daily from monthly\n      alertThreshold: 80, // 80% threshold\n      enableAlerts: true,\n      enableHardStop: false,\n      emergencyContact: '',\n    },\n  });\n\n  const watchedValues = watch();\n\n  const onSubmit = async (data: BudgetFormData) => {\n    setSaving(true);\n    try {\n      await onUpdateBudget(data);\n      setIsEditing(false);\n      reset(data);\n    } catch (error) {\n      console.error('Failed to update budget:', error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    reset();\n    setIsEditing(false);\n  };\n\n  const getBudgetStatusColor = () => {\n    if (budgetInfo.budget_utilization_percentage >= 90) return 'text-red-600 dark:text-red-400';\n    if (budgetInfo.budget_utilization_percentage >= 75) return 'text-yellow-600 dark:text-yellow-400';\n    return 'text-green-600 dark:text-green-400';\n  };\n\n  const getBudgetBarColor = () => {\n    if (budgetInfo.budget_utilization_percentage >= 90) return 'bg-red-500';\n    if (budgetInfo.budget_utilization_percentage >= 75) return 'bg-yellow-500';\n    return 'bg-green-500';\n  };\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Budget Overview Card */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n      >\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              Budget Overview\n            </h3>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n              Current month spending and limits\n            </p>\n          </div>\n          \n          {!isEditing && (\n            <button\n              onClick={() => setIsEditing(true)}\n              className=\"flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <PencilSquareIcon className=\"h-4 w-4\" />\n              Edit Budget\n            </button>\n          )}\n        </div>\n\n        {/* Budget Progress */}\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n              Monthly Budget Progress\n            </span>\n            <span className={`text-sm font-semibold ${getBudgetStatusColor()}`}>\n              ${budgetInfo.current_month_spend.toFixed(2)} / ${budgetInfo.monthly_limit.toFixed(2)}\n            </span>\n          </div>\n          \n          <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\">\n            <div\n              className={`h-3 rounded-full transition-all duration-500 ${getBudgetBarColor()}`}\n              style={{ width: `${Math.min(budgetInfo.budget_utilization_percentage, 100)}%` }}\n            />\n          </div>\n          \n          <div className=\"flex justify-between text-xs text-gray-500 dark:text-gray-400\">\n            <span>0%</span>\n            <span>{budgetInfo.budget_utilization_percentage.toFixed(1)}% used</span>\n            <span>100%</span>\n          </div>\n        </div>\n\n        {/* Quick Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\">\n          <div className=\"text-center\">\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              ${budgetInfo.remaining_budget.toFixed(2)}\n            </p>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">Remaining</p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              ${budgetInfo.projected_month_end_spend.toFixed(2)}\n            </p>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">Projected Total</p>\n          </div>\n          <div className=\"text-center\">\n            <p className={`text-2xl font-bold ${\n              budgetInfo.projected_month_end_spend > budgetInfo.monthly_limit\n                ? 'text-red-600 dark:text-red-400'\n                : 'text-green-600 dark:text-green-400'\n            }`}>\n              {budgetInfo.projected_month_end_spend > budgetInfo.monthly_limit ? '+' : ''}\n              ${(budgetInfo.projected_month_end_spend - budgetInfo.monthly_limit).toFixed(2)}\n            </p>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              {budgetInfo.projected_month_end_spend > budgetInfo.monthly_limit ? 'Over' : 'Under'} Budget\n            </p>\n          </div>\n        </div>\n\n        {/* Budget Alerts */}\n        {(budgetInfo.alerts.approaching_limit || budgetInfo.alerts.over_budget || budgetInfo.alerts.high_daily_spend) && (\n          <div className=\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\">\n            <div className=\"flex items-center gap-2 mb-3\">\n              <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-500\" />\n              <span className=\"font-medium text-gray-900 dark:text-white\">Active Alerts</span>\n            </div>\n            \n            <div className=\"space-y-2\">\n              {budgetInfo.alerts.approaching_limit && (\n                <div className=\"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg\">\n                  <BellIcon className=\"h-4 w-4 text-yellow-600 dark:text-yellow-400\" />\n                  <span className=\"text-sm text-yellow-700 dark:text-yellow-300\">\n                    Approaching monthly budget limit ({budgetInfo.budget_utilization_percentage.toFixed(1)}% used)\n                  </span>\n                </div>\n              )}\n              \n              {budgetInfo.alerts.over_budget && (\n                <div className=\"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg\">\n                  <ExclamationTriangleIcon className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\n                  <span className=\"text-sm text-red-700 dark:text-red-300\">\n                    Monthly budget exceeded\n                  </span>\n                </div>\n              )}\n              \n              {budgetInfo.alerts.high_daily_spend && (\n                <div className=\"flex items-center gap-2 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg\">\n                  <BellIcon className=\"h-4 w-4 text-orange-600 dark:text-orange-400\" />\n                  <span className=\"text-sm text-orange-700 dark:text-orange-300\">\n                    Daily spending above average\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </motion.div>\n\n      {/* Budget Configuration Form */}\n      {isEditing && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n        >\n          <div className=\"flex items-center gap-2 mb-6\">\n            <Cog6ToothIcon className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              Budget Configuration\n            </h3>\n          </div>\n\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Monthly Limit */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Monthly Budget Limit\n                </label>\n                <Controller\n                  name=\"monthlyLimit\"\n                  control={control}\n                  rules={{ \n                    required: 'Monthly limit is required',\n                    min: { value: 1, message: 'Must be at least $1' },\n                    max: { value: 10000, message: 'Must be less than $10,000' },\n                  }}\n                  render={({ field }) => (\n                    <div className=\"relative\">\n                      <CurrencyDollarIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                      <input\n                        {...field}\n                        type=\"number\"\n                        step=\"0.01\"\n                        min=\"1\"\n                        max=\"10000\"\n                        className=\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\"\n                        placeholder=\"100.00\"\n                      />\n                    </div>\n                  )}\n                />\n                {errors.monthlyLimit && (\n                  <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                    {errors.monthlyLimit.message}\n                  </p>\n                )}\n              </div>\n\n              {/* Daily Limit */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Daily Budget Limit (Optional)\n                </label>\n                <Controller\n                  name=\"dailyLimit\"\n                  control={control}\n                  rules={{ \n                    min: { value: 0.01, message: 'Must be at least $0.01' },\n                    validate: (value) => {\n                      if (value && value * 30 > watchedValues.monthlyLimit) {\n                        return 'Daily limit would exceed monthly limit';\n                      }\n                    }\n                  }}\n                  render={({ field }) => (\n                    <div className=\"relative\">\n                      <CurrencyDollarIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                      <input\n                        {...field}\n                        type=\"number\"\n                        step=\"0.01\"\n                        min=\"0.01\"\n                        className=\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\"\n                        placeholder=\"10.00\"\n                      />\n                    </div>\n                  )}\n                />\n                {errors.dailyLimit && (\n                  <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                    {errors.dailyLimit.message}\n                  </p>\n                )}\n              </div>\n\n              {/* Alert Threshold */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Alert Threshold (%)\n                </label>\n                <Controller\n                  name=\"alertThreshold\"\n                  control={control}\n                  rules={{ \n                    required: 'Alert threshold is required',\n                    min: { value: 50, message: 'Must be at least 50%' },\n                    max: { value: 95, message: 'Must be less than 95%' },\n                  }}\n                  render={({ field }) => (\n                    <div className=\"relative\">\n                      <input\n                        {...field}\n                        type=\"number\"\n                        min=\"50\"\n                        max=\"95\"\n                        className=\"w-full pr-8 pl-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\"\n                        placeholder=\"80\"\n                      />\n                      <span className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\">%</span>\n                    </div>\n                  )}\n                />\n                {errors.alertThreshold && (\n                  <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                    {errors.alertThreshold.message}\n                  </p>\n                )}\n                <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                  Get notified when {watchedValues.alertThreshold}% of budget is used\n                </p>\n              </div>\n\n              {/* Emergency Contact */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Emergency Contact (Optional)\n                </label>\n                <Controller\n                  name=\"emergencyContact\"\n                  control={control}\n                  rules={{ \n                    pattern: {\n                      value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n                      message: 'Please enter a valid email address'\n                    }\n                  }}\n                  render={({ field }) => (\n                    <input\n                      {...field}\n                      type=\"email\"\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white\"\n                      placeholder=\"admin@company.com\"\n                    />\n                  )}\n                />\n                {errors.emergencyContact && (\n                  <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                    {errors.emergencyContact.message}\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Checkboxes */}\n            <div className=\"space-y-4\">\n              <Controller\n                name=\"enableAlerts\"\n                control={control}\n                render={({ field: { value, onChange } }) => (\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={value}\n                      onChange={onChange}\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded\"\n                    />\n                    <span className=\"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300\">\n                      Enable budget alerts\n                    </span>\n                  </label>\n                )}\n              />\n\n              <Controller\n                name=\"enableHardStop\"\n                control={control}\n                render={({ field: { value, onChange } }) => (\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={value}\n                      onChange={onChange}\n                      className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 dark:border-gray-600 rounded\"\n                    />\n                    <span className=\"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300\">\n                      Enable hard stop (block requests when budget exceeded)\n                    </span>\n                  </label>\n                )}\n              />\n              \n              {watchedValues.enableHardStop && (\n                <div className=\"ml-7 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg\">\n                  <div className=\"flex items-center gap-2\">\n                    <ExclamationTriangleIcon className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\n                    <span className=\"text-sm text-red-700 dark:text-red-300 font-medium\">\n                      Warning: Hard stop will completely block AI requests when budget is exceeded\n                    </span>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex items-center justify-end gap-3 pt-6 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                type=\"button\"\n                onClick={handleCancel}\n                className=\"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={!isDirty || saving}\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {saving ? (\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\" />\n                ) : (\n                  <CheckCircleIcon className=\"h-4 w-4\" />\n                )}\n                {saving ? 'Saving...' : 'Save Budget Settings'}\n              </button>\n            </div>\n          </form>\n        </motion.div>\n      )}\n\n      {/* Recent Alerts */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.1 }}\n        className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n      >\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n            Recent Alerts\n          </h3>\n          <button className=\"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300\">\n            View All\n          </button>\n        </div>\n\n        <div className=\"space-y-3\">\n          {mockAlerts.map((alert) => (\n            <div\n              key={alert.id}\n              className={`flex items-start gap-3 p-3 rounded-lg ${\n                alert.type === 'warning'\n                  ? 'bg-yellow-50 dark:bg-yellow-900/20'\n                  : alert.type === 'danger'\n                  ? 'bg-red-50 dark:bg-red-900/20'\n                  : 'bg-blue-50 dark:bg-blue-900/20'\n              }`}\n            >\n              {alert.type === 'warning' ? (\n                <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5\" />\n              ) : alert.type === 'danger' ? (\n                <ExclamationTriangleIcon className=\"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5\" />\n              ) : (\n                <CheckCircleIcon className=\"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5\" />\n              )}\n              \n              <div className=\"flex-1\">\n                <p className={`text-sm font-medium ${\n                  alert.type === 'warning'\n                    ? 'text-yellow-700 dark:text-yellow-300'\n                    : alert.type === 'danger'\n                    ? 'text-red-700 dark:text-red-300'\n                    : 'text-blue-700 dark:text-blue-300'\n                }`}>\n                  {alert.message}\n                </p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                  {new Date(alert.timestamp).toLocaleString()}\n                </p>\n              </div>\n              \n              {alert.actionRequired && (\n                <button className=\"text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 rounded\">\n                  Action Required\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default BudgetManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}